data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data = select(data, -Indicator)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
library(magrittr)
library(readxl)
library(dplyr)
library(ggplot2)
library(data.table)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
library(magrittr)
library(readxl)
library(dplyr)
library(ggplot2)
library(data.table)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
View(data)
View(data)
data = select(data, -c(Indicator, Sex, Time))
data = select(data, -Country)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
data = select(data, -c(Country, Indicator, Sex, Time))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags, Flag Codes))
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags, Flag_Codes))
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags, AgeGroup))
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags, AgeGroup))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
df <- mydata[ -c(4,8:10)]
data <- data[ -c(4,8:10)]
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data <- data[ -c(4,8:10)]
data = select(data, -4, -8:-10)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data, -5, -9:-11)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data, -5, -9:-11)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -5, -9:-11, -13)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -5, -9:-11, -13)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags, 5, 9:11, 13))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -c(5, 9:11, 13))
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -c(5, 9:11, 13))
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -c(5, 9:11, 13))
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -c(5, 9:11, 13))
data = select(data, -c(1,2, TIME))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, -c(Country, Indicator, Sex, Time, Unit, Flags))
data = select(data,  -c(5, 9:11, 13))
data = select(data, -c(1,2, 5:7))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, c(SEX, AGE, Value))
ggplot(data, aes(SEX, Value))
ggplot(data, aes(SEX, Value)) +
geom_point()
ggplot(data, aes(SEX, AGE, Value)) +
geom_point()
ggplot(data, aes(SEX, Value)) +
geom_bar()
ggplot(data, aes(SEX, Value)) +
geom_line()
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(vars(AGE))
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(cols = vars(AGE))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "Both"))
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(cols = vars(AGE))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(cols = vars(AGE))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, c(SEX, AGE, Value))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(cols = vars(AGE))
ggplot(aes(x = age.cat,
y = 100 * (..count..) / sum(..count..),
fill = DUQ200)) +
geom_bar(position = 'dodge') +
facet_grid(vars(gender))
ggplot(data, aes(AGE, Value)) +
geom_point() +
facet_grid(cols = vars(SEX))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, c(8, SEX, AGE,  Value))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
data = select(data, c(SEX, AGE, 8,  Value))
ggplot(data, aes(Age Group, Value)) +
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(Age Group, Value)) +
data <- data %>% clean_names()
data <- data %>% janitor::clean_names()
library(magrittr)
library(dplyr)
library(ggplot2)
library(data.table)
library(janitor)
library(tidyverse)
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
View(data)
View(data)
data = select(data, c(SEX, AGE, 8,  Value))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "AAAAAAAAAAAAAAAAAAAa"
data = select(data, c(SEX, Age,  Value))
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(Age, Value)) +
geom_point() +
facet_grid(cols = vars(SEX))
ggplot(data, aes(SEX, Value)) +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment")
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment")
geom_point() +
facet_grid(cols = vars(Age))
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment") +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "Spain, 2015") +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "Spain, 2015", caption = "Source: OCDE") +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group, Spain, 2015", caption = "Source: OCDE") +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
geom_point() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
geom_bar() +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "ide", position = position_dodge2(0.9)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = SEX, position = position_dodge2(0.9)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(0.9)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(Age, Value, fill=SEX)) +
geom_bar(stat = "identity", position = position_dodge2(0.9)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
Age
identity
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX, ALL_PERSONS = "ALL"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(0.9)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(2)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(2)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(0.5)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
1
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(TIME == 2015)
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All ages"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All ages"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
library(magrittr)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
library(data.table)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
library(dplyr)
library(ggplot2)
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
library(dplyr)
library(ggplot2)
library(data.table)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
library(dplyr)
library(ggplot2)
library(data.table)
setwd("~/Desktop/Uni/IST/2º Ano/2º Semestre/PE/Projeto/3-10")
# Lê os dados do ficheiro .txt
data <- fread("GENDER_EMP_19032023152556091.txt")
# Filtra as colunas e linhas indesejadas
data <- data %>% filter(grepl('ESP', COU))
data <- data %>% filter(grepl('EMP5', IND))
data <- data %>% filter(TIME == 2015)
colnames(data)[8] = "Age"
data = select(data, c(SEX, Age,  Value))
data <- data %>% mutate(SEX = recode(SEX,
ALL_PERSONS = "All",
MEN = "M",
WOMEN = "W"),
Age = recode(Age, Total = "All"))
ggplot(data, aes(SEX, Value, fill=Age)) +
geom_bar(stat = "identity", position = position_dodge2(1)) +
scale_y_continuous(limits = c(0,100)) +
labs(title = "Percentage of people employed in part-time employment",
subtitle = "By Sex and Age Group in Spain, 2015", caption = "Source: OCDE") +
facet_grid(cols = vars(Age))
